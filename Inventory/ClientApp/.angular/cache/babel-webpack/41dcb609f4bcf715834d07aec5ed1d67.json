{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\n\nfunction NewUserComponent_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 12);\n    i0.ɵɵtext(1, \" You need to enter a first name. \");\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NewUserComponent_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 12);\n    i0.ɵɵtext(1, \" This email has been taken. \");\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NewUserComponent_span_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 12);\n    i0.ɵɵtext(1, \" Phone number must be 10 digits. \");\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NewUserComponent_p_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const user_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate3(\" \", user_r4.id, \": \", user_r4.firstName, \" \", user_r4.lastName, \"\\n\");\n  }\n}\n\nconst _c0 = function () {\n  return {\n    standalone: true\n  };\n};\n\nexport class NewUserComponent {\n  //TODO: Give something to indicate to the user if email was already taken or if they have too many or too few digits in the phone number.\n  constructor(userService, router) {\n    this.userService = userService;\n    this.router = router;\n    this.firstName = \"\";\n    this.lastName = \"\";\n    this.address = \"\";\n    this.email = \"\";\n    this.badEmail = false;\n    this.badFirstName = false;\n    this.badPhoneNumber = false;\n  }\n\n  createNewUser() {\n    this.badEmail = false;\n    this.badFirstName = false;\n    this.badPhoneNumber = false;\n    let newUser = {\n      orders: undefined,\n      id: undefined,\n      firstName: this.firstName,\n      lastName: this.lastName,\n      address: this.address,\n      email: this.email,\n      phone: this.phone\n    };\n\n    if (newUser.firstName.length === 0) {\n      this.badFirstName = true;\n    }\n\n    if (this.userService.allUsers.find(user => user.email === newUser.email) !== undefined) {\n      this.badEmail = true; // We use user email as a unique identifier for users.\n    }\n\n    if (newUser.phone.toString().length !== 10) {\n      this.badPhoneNumber = true;\n    }\n\n    if (this.badEmail || this.badFirstName || this.badPhoneNumber) {\n      return;\n    }\n\n    this.userService.createUser(newUser).subscribe(() => {\n      this.getNewestUser();\n      this.router.navigate(['']); // Sends us back to the home page.\n    });\n  }\n\n  getNewestUser() {\n    this.userService.newestUser().subscribe(user => {\n      this.userService.allUsers.push(user);\n      this.userService.loggedInUser = user; // We also automatically login the user after account creation.\n    });\n  }\n\n  ngOnInit() {\n    if (this.userService.allUsers.length === 0) {\n      this.userService.getUsers();\n    }\n  }\n\n}\n\nNewUserComponent.ɵfac = function NewUserComponent_Factory(t) {\n  return new (t || NewUserComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nNewUserComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NewUserComponent,\n  selectors: [[\"app-new-user\"]],\n  decls: 22,\n  vars: 19,\n  consts: [[1, \"bro\"], [3, \"ngSubmit\"], [\"style\", \"color: red;\", 4, \"ngIf\"], [\"type\", \"text\", \"placeholder\", \"First name\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Last name\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Address\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"type\", \"email\", \"placeholder\", \"Email\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"type\", \"number\", \"placeholder\", \"Phone number\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"type\", \"submit\", \"value\", \"Submit\"], [4, \"ngFor\", \"ngForOf\"], [1, \"broger\"], [\"src\", \"..\\\\assets\\\\img\\\\Broger.png\"], [2, \"color\", \"red\"]],\n  template: function NewUserComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h5\");\n      i0.ɵɵtext(1, \"New User Info\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 0);\n      i0.ɵɵelementStart(3, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function NewUserComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.createNewUser();\n      });\n      i0.ɵɵtemplate(4, NewUserComponent_span_4_Template, 3, 0, \"span\", 2);\n      i0.ɵɵelementStart(5, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function NewUserComponent_Template_input_ngModelChange_5_listener($event) {\n        return ctx.firstName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"br\");\n      i0.ɵɵelementStart(7, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function NewUserComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.lastName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"br\");\n      i0.ɵɵelementStart(9, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function NewUserComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.address = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"br\");\n      i0.ɵɵtemplate(11, NewUserComponent_span_11_Template, 3, 0, \"span\", 2);\n      i0.ɵɵelementStart(12, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function NewUserComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"br\");\n      i0.ɵɵtemplate(14, NewUserComponent_span_14_Template, 3, 0, \"span\", 2);\n      i0.ɵɵelementStart(15, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function NewUserComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.phone = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"br\");\n      i0.ɵɵelement(17, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"br\");\n      i0.ɵɵtemplate(19, NewUserComponent_p_19_Template, 2, 3, \"p\", 9);\n      i0.ɵɵelementStart(20, \"div\", 10);\n      i0.ɵɵelement(21, \"img\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.badFirstName);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.firstName)(\"ngModelOptions\", i0.ɵɵpureFunction0(14, _c0));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.lastName)(\"ngModelOptions\", i0.ɵɵpureFunction0(15, _c0));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.address)(\"ngModelOptions\", i0.ɵɵpureFunction0(16, _c0));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.badEmail);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.email)(\"ngModelOptions\", i0.ɵɵpureFunction0(17, _c0));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.badPhoneNumber);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.phone)(\"ngModelOptions\", i0.ɵɵpureFunction0(18, _c0));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.userService.allUsers);\n    }\n  },\n  directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i4.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i3.NumberValueAccessor, i4.NgForOf],\n  styles: [\".bro[_ngcontent-%COMP%]{\\r\\n    background-image: url(<blockquote class=\\\"imgur-embed-pub\\\" lang=\\\"en\\\" data-id=\\\"EIM7ato\\\" data-context=\\\"false\\\" ><a href=\\\"//imgur.com/EIM7ato\\\"></a></blockquote><script async src=\\\"//s.imgur.com/min/embed.js\\\" charset=\\\"utf-8\\\"></script>);\\r\\n}\\r\\ninput[type=submit][_ngcontent-%COMP%]:hover{background-color:whitesmoke; color: blue; box-shadow: 0px 0px 2px 2px rgb(0,0,0);}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ldy11c2VyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxvT0FBb087QUFDeE87QUFDQSx5QkFBeUIsMkJBQTJCLEVBQUUsV0FBVyxFQUFFLHNDQUFzQyxDQUFDIiwiZmlsZSI6Im5ldy11c2VyLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnJve1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKDxibG9ja3F1b3RlIGNsYXNzPVwiaW1ndXItZW1iZWQtcHViXCIgbGFuZz1cImVuXCIgZGF0YS1pZD1cIkVJTTdhdG9cIiBkYXRhLWNvbnRleHQ9XCJmYWxzZVwiID48YSBocmVmPVwiLy9pbWd1ci5jb20vRUlNN2F0b1wiPjwvYT48L2Jsb2NrcXVvdGU+PHNjcmlwdCBhc3luYyBzcmM9XCIvL3MuaW1ndXIuY29tL21pbi9lbWJlZC5qc1wiIGNoYXJzZXQ9XCJ1dGYtOFwiPjwvc2NyaXB0Pik7XHJcbn1cclxuaW5wdXRbdHlwZT1zdWJtaXRdOmhvdmVye2JhY2tncm91bmQtY29sb3I6d2hpdGVzbW9rZTsgY29sb3I6IGJsdWU7IGJveC1zaGFkb3c6IDBweCAwcHggMnB4IDJweCByZ2IoMCwwLDApO30iXX0= */\"]\n});","map":{"version":3,"sources":["C:/Users/sadams/Desktop/Inventory Project/Inventory/Inventory/ClientApp/src/app/new-user/new-user.component.ts"],"names":["i0","i1","i2","i3","i4","NewUserComponent_span_4_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelement","ɵɵelementEnd","NewUserComponent_span_11_Template","NewUserComponent_span_14_Template","NewUserComponent_p_19_Template","user_r4","$implicit","ɵɵadvance","ɵɵtextInterpolate3","id","firstName","lastName","_c0","standalone","NewUserComponent","constructor","userService","router","address","email","badEmail","badFirstName","badPhoneNumber","createNewUser","newUser","orders","undefined","phone","length","allUsers","find","user","toString","createUser","subscribe","getNewestUser","navigate","newestUser","push","loggedInUser","ngOnInit","getUsers","ɵfac","NewUserComponent_Factory","t","ɵɵdirectiveInject","UserService","Router","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","NewUserComponent_Template","ɵɵlistener","NewUserComponent_Template_form_ngSubmit_3_listener","ɵɵtemplate","NewUserComponent_Template_input_ngModelChange_5_listener","$event","NewUserComponent_Template_input_ngModelChange_7_listener","NewUserComponent_Template_input_ngModelChange_9_listener","NewUserComponent_Template_input_ngModelChange_12_listener","NewUserComponent_Template_input_ngModelChange_15_listener","ɵɵproperty","ɵɵpureFunction0","directives","ɵNgNoValidate","NgControlStatusGroup","NgForm","NgIf","DefaultValueAccessor","NgControlStatus","NgModel","NumberValueAccessor","NgForOf","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../user.service\";\r\nimport * as i2 from \"@angular/router\";\r\nimport * as i3 from \"@angular/forms\";\r\nimport * as i4 from \"@angular/common\";\r\nfunction NewUserComponent_span_4_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"span\", 12);\r\n    i0.ɵɵtext(1, \" You need to enter a first name. \");\r\n    i0.ɵɵelement(2, \"br\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction NewUserComponent_span_11_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"span\", 12);\r\n    i0.ɵɵtext(1, \" This email has been taken. \");\r\n    i0.ɵɵelement(2, \"br\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction NewUserComponent_span_14_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"span\", 12);\r\n    i0.ɵɵtext(1, \" Phone number must be 10 digits. \");\r\n    i0.ɵɵelement(2, \"br\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction NewUserComponent_p_19_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"p\");\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const user_r4 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate3(\" \", user_r4.id, \": \", user_r4.firstName, \" \", user_r4.lastName, \"\\n\");\r\n} }\r\nconst _c0 = function () { return { standalone: true }; };\r\nexport class NewUserComponent {\r\n    //TODO: Give something to indicate to the user if email was already taken or if they have too many or too few digits in the phone number.\r\n    constructor(userService, router) {\r\n        this.userService = userService;\r\n        this.router = router;\r\n        this.firstName = \"\";\r\n        this.lastName = \"\";\r\n        this.address = \"\";\r\n        this.email = \"\";\r\n        this.badEmail = false;\r\n        this.badFirstName = false;\r\n        this.badPhoneNumber = false;\r\n    }\r\n    createNewUser() {\r\n        this.badEmail = false;\r\n        this.badFirstName = false;\r\n        this.badPhoneNumber = false;\r\n        let newUser = { orders: undefined, id: undefined, firstName: this.firstName,\r\n            lastName: this.lastName, address: this.address, email: this.email, phone: this.phone };\r\n        if (newUser.firstName.length === 0) {\r\n            this.badFirstName = true;\r\n        }\r\n        if (this.userService.allUsers.find((user) => user.email === newUser.email) !== undefined) {\r\n            this.badEmail = true; // We use user email as a unique identifier for users.\r\n        }\r\n        if (newUser.phone.toString().length !== 10) {\r\n            this.badPhoneNumber = true;\r\n        }\r\n        if (this.badEmail || this.badFirstName || this.badPhoneNumber) {\r\n            return;\r\n        }\r\n        this.userService.createUser(newUser).subscribe(() => {\r\n            this.getNewestUser();\r\n            this.router.navigate(['']); // Sends us back to the home page.\r\n        });\r\n    }\r\n    getNewestUser() {\r\n        this.userService.newestUser().subscribe((user) => {\r\n            this.userService.allUsers.push(user);\r\n            this.userService.loggedInUser = user; // We also automatically login the user after account creation.\r\n        });\r\n    }\r\n    ngOnInit() {\r\n        if (this.userService.allUsers.length === 0) {\r\n            this.userService.getUsers();\r\n        }\r\n    }\r\n}\r\nNewUserComponent.ɵfac = function NewUserComponent_Factory(t) { return new (t || NewUserComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router)); };\r\nNewUserComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: NewUserComponent, selectors: [[\"app-new-user\"]], decls: 22, vars: 19, consts: [[1, \"bro\"], [3, \"ngSubmit\"], [\"style\", \"color: red;\", 4, \"ngIf\"], [\"type\", \"text\", \"placeholder\", \"First name\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Last name\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Address\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"type\", \"email\", \"placeholder\", \"Email\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"type\", \"number\", \"placeholder\", \"Phone number\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"type\", \"submit\", \"value\", \"Submit\"], [4, \"ngFor\", \"ngForOf\"], [1, \"broger\"], [\"src\", \"..\\\\assets\\\\img\\\\Broger.png\"], [2, \"color\", \"red\"]], template: function NewUserComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"h5\");\r\n        i0.ɵɵtext(1, \"New User Info\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(2, \"div\", 0);\r\n        i0.ɵɵelementStart(3, \"form\", 1);\r\n        i0.ɵɵlistener(\"ngSubmit\", function NewUserComponent_Template_form_ngSubmit_3_listener() { return ctx.createNewUser(); });\r\n        i0.ɵɵtemplate(4, NewUserComponent_span_4_Template, 3, 0, \"span\", 2);\r\n        i0.ɵɵelementStart(5, \"input\", 3);\r\n        i0.ɵɵlistener(\"ngModelChange\", function NewUserComponent_Template_input_ngModelChange_5_listener($event) { return ctx.firstName = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(6, \"br\");\r\n        i0.ɵɵelementStart(7, \"input\", 4);\r\n        i0.ɵɵlistener(\"ngModelChange\", function NewUserComponent_Template_input_ngModelChange_7_listener($event) { return ctx.lastName = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(8, \"br\");\r\n        i0.ɵɵelementStart(9, \"input\", 5);\r\n        i0.ɵɵlistener(\"ngModelChange\", function NewUserComponent_Template_input_ngModelChange_9_listener($event) { return ctx.address = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(10, \"br\");\r\n        i0.ɵɵtemplate(11, NewUserComponent_span_11_Template, 3, 0, \"span\", 2);\r\n        i0.ɵɵelementStart(12, \"input\", 6);\r\n        i0.ɵɵlistener(\"ngModelChange\", function NewUserComponent_Template_input_ngModelChange_12_listener($event) { return ctx.email = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(13, \"br\");\r\n        i0.ɵɵtemplate(14, NewUserComponent_span_14_Template, 3, 0, \"span\", 2);\r\n        i0.ɵɵelementStart(15, \"input\", 7);\r\n        i0.ɵɵlistener(\"ngModelChange\", function NewUserComponent_Template_input_ngModelChange_15_listener($event) { return ctx.phone = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(16, \"br\");\r\n        i0.ɵɵelement(17, \"input\", 8);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(18, \"br\");\r\n        i0.ɵɵtemplate(19, NewUserComponent_p_19_Template, 2, 3, \"p\", 9);\r\n        i0.ɵɵelementStart(20, \"div\", 10);\r\n        i0.ɵɵelement(21, \"img\", 11);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.badFirstName);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.firstName)(\"ngModelOptions\", i0.ɵɵpureFunction0(14, _c0));\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.lastName)(\"ngModelOptions\", i0.ɵɵpureFunction0(15, _c0));\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.address)(\"ngModelOptions\", i0.ɵɵpureFunction0(16, _c0));\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.badEmail);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.email)(\"ngModelOptions\", i0.ɵɵpureFunction0(17, _c0));\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.badPhoneNumber);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.phone)(\"ngModelOptions\", i0.ɵɵpureFunction0(18, _c0));\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.userService.allUsers);\r\n    } }, directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i4.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i3.NumberValueAccessor, i4.NgForOf], styles: [\".bro[_ngcontent-%COMP%]{\\r\\n    background-image: url(<blockquote class=\\\"imgur-embed-pub\\\" lang=\\\"en\\\" data-id=\\\"EIM7ato\\\" data-context=\\\"false\\\" ><a href=\\\"//imgur.com/EIM7ato\\\"></a></blockquote><script async src=\\\"//s.imgur.com/min/embed.js\\\" charset=\\\"utf-8\\\"></script>);\\r\\n}\\r\\ninput[type=submit][_ngcontent-%COMP%]:hover{background-color:whitesmoke; color: blue; box-shadow: 0px 0px 2px 2px rgb(0,0,0);}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ldy11c2VyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxvT0FBb087QUFDeE87QUFDQSx5QkFBeUIsMkJBQTJCLEVBQUUsV0FBVyxFQUFFLHNDQUFzQyxDQUFDIiwiZmlsZSI6Im5ldy11c2VyLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnJve1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKDxibG9ja3F1b3RlIGNsYXNzPVwiaW1ndXItZW1iZWQtcHViXCIgbGFuZz1cImVuXCIgZGF0YS1pZD1cIkVJTTdhdG9cIiBkYXRhLWNvbnRleHQ9XCJmYWxzZVwiID48YSBocmVmPVwiLy9pbWd1ci5jb20vRUlNN2F0b1wiPjwvYT48L2Jsb2NrcXVvdGU+PHNjcmlwdCBhc3luYyBzcmM9XCIvL3MuaW1ndXIuY29tL21pbi9lbWJlZC5qc1wiIGNoYXJzZXQ9XCJ1dGYtOFwiPjwvc2NyaXB0Pik7XHJcbn1cclxuaW5wdXRbdHlwZT1zdWJtaXRdOmhvdmVye2JhY2tncm91bmQtY29sb3I6d2hpdGVzbW9rZTsgY29sb3I6IGJsdWU7IGJveC1zaGFkb3c6IDBweCAwcHggMnB4IDJweCByZ2IoMCwwLDApO30iXX0= */\"] });\r\n"]},"metadata":{},"sourceType":"module"}